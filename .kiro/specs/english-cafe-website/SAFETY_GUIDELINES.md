# Safety Guidelines for Implementation

## 🛡️ 安全な実装方針

このドキュメントは、英会話カフェWebサイトの実装において、システムの安全性を確保するためのガイドラインです。

## 絶対に実行しないコマンド

### ファイル削除系
- `rm -rf` - 強制的な再帰削除
- `del /f /s /q` - Windows強制削除
- `rmdir /s` - ディレクトリ削除
- `truncate` - ファイル内容の切り詰め

### システム設定変更系
- `sudo` - 管理者権限での実行
- `chmod 777` - 危険な権限設定
- `chown` - 所有者変更
- レジストリ変更コマンド (`reg add`, `reg delete`)
- システムサービス変更 (`systemctl`, `service`)

### ネットワーク・セキュリティ系
- ファイアウォール設定変更
- ネットワーク設定変更
- SSL証明書の削除・変更
- 環境変数の危険な変更

### その他危険な操作
- 既存ファイルの無警告上書き
- システムディレクトリへの書き込み
- 外部からの実行ファイルダウンロード・実行

## 安全な実装アプローチ

### ✅ 許可される操作

**ファイル・ディレクトリ操作:**
- 新規ファイル・ディレクトリの作成
- 既存ファイルの内容確認後の編集
- プロジェクト内でのファイル移動・コピー

**パッケージ管理:**
- npm, pip, yarn等の標準パッケージマネージャー使用
- 公式リポジトリからの安全なパッケージインストール
- package.json, requirements.txt等の依存関係管理

**開発環境設定:**
- Docker, Docker Compose設定
- 開発用設定ファイルの作成
- IDE設定ファイルの作成

**コード実装:**
- アプリケーションコードの作成・編集
- テストコードの作成・実行
- 設定ファイルの作成・編集

### ⚠️ 事前確認が必要な操作

**既存ファイルの大幅変更:**
- 既存設定ファイルの構造変更
- 重要なファイルの内容変更
- データベーススキーマの変更

**システムレベル設定:**
- 環境変数の追加・変更
- ポート設定の変更
- 外部サービス接続設定

**特殊なコマンド実行:**
- 標準的でないコマンドの実行
- エラー解決のための特殊操作
- パフォーマンス調整のためのシステム設定

## 実装時の確認プロセス

### 1. 事前説明
各ステップで以下を明確に説明：
- 何を行うか
- なぜ必要か
- どのような影響があるか
- 代替手段があるか

### 2. 安全性チェック
実行前に以下を確認：
- システムに悪影響がないか
- 既存データが失われないか
- 復旧可能な操作か
- より安全な代替手段があるか

### 3. 段階的実行
- 小さなステップに分割
- 各ステップでの動作確認
- 問題発生時の即座停止
- バックアップの事前作成（必要時）

## エラー対応方針

### 軽微なエラー
- ログの確認と分析
- 設定ファイルの見直し
- 依存関係の確認
- 標準的なトラブルシューティング

### 重大なエラー
- **即座に作業停止**
- 状況の詳細報告
- ユーザーへの確認依頼
- 安全な解決策の提案

## 緊急時の対応

### システム異常検知時
1. 即座に作業を停止
2. 現在の状況を正確に報告
3. ユーザーの指示を待つ
4. 安全な復旧方法を提案

### 予期しない動作発生時
1. 操作を中断
2. ログ・エラーメッセージの保存
3. 状況の詳細説明
4. ユーザーとの相談

## 実装品質保証

### コード品質
- 適切なエラーハンドリング
- セキュリティベストプラクティス遵守
- 可読性の高いコード作成
- 適切なコメント・ドキュメント

### テスト実施
- ユニットテストの作成
- 統合テストの実施
- セキュリティテストの実行
- パフォーマンステストの確認

## 連絡・確認事項

### 必須確認事項
以下の場合は必ずユーザーに確認：
- 既存ファイルの重要な変更
- システム設定の変更
- 外部サービスとの連携設定
- 不明なエラーの解決方法
- 標準的でない操作の実行

### 報告事項
- 各タスクの完了報告
- エラー・警告の発生報告
- 予期しない動作の報告
- セキュリティ関連の懸念事項

---

**最終更新:** 2025年1月13日  
**適用範囲:** 英会話カフェWebサイトプロジェクト全体  
**承認者:** プロジェクトオーナー

このガイドラインに従い、安全で確実な実装を進めます。